{"version":3,"sources":["services/number.js","App.js","index.js"],"names":["baseUrl","numberService","getAll","axios","get","then","res","data","add","newObject","put","update","id","remove","delete","Notification","name","message","type","className","Input","text","value","handleChange","onChange","Form","inputs","handleSubmit","heading","submitText","onSubmit","map","input","i","PhoneNumber","number","clickHandler","onClick","PhoneNumbers","phonenumbers","person","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notificationName","setNotificationName","notification","setNotification","notificationType","setNotificationType","notify","setTimeout","updateAll","numbers","useEffect","updatePerson","updated","_person","catch","err","peopleToShow","toLowerCase","includes","event","target","preventDefault","personObject","trim","presentPerson","find","concat","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30209aa0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  let request = axios.get(baseUrl)\n  return request.then((res) => res.data)\n}\n\nconst add = (newObject) => {\n  let request = axios.put(baseUrl, newObject)\n  return request.then((res) => res.data)\n}\n\nconst update = (id, newObject) => {\n  let request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((res) => res.data)\n}\n\nconst remove = (id) => {\n  let request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((res) => res.data)\n}\n\nconst numberService = {\n  getAll,\n  add,\n  update,\n  remove\n}\n\nexport default numberService\n","import React, { useState, useEffect } from 'react'\nimport numberService from './services/number'\n\nconst Notification = ({ name, message, type }) => {\n  return (\n    <div className={`notification ${type}`}>\n      <span className=\"name\">{name}</span>\n      {message && <span className=\"message\">{message}</span>}\n    </div>\n  )\n}\n\nconst Input = ({ text, value, handleChange, type }) => {\n  return (\n    <div>\n      <label>\n        <span>{text}</span>\n        <input type={type} value={value} onChange={handleChange} />\n      </label>\n    </div>\n  )\n}\n\nconst Form = ({ inputs, handleSubmit, heading, submitText }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>{heading}</h2>\n      {inputs.map((input, i) => (\n        <Input key={i} type={input.type} text={input.text} value={input.value} handleChange={input.handleChange} />\n      ))}\n      {handleSubmit && <button type=\"submit\">{submitText}</button>}\n    </form>\n  )\n}\n\nconst PhoneNumber = ({ name, number, id, clickHandler }) => {\n  return (\n    <tr>\n      <td>{name}</td>\n      <td>{number}</td>\n      <td>\n        <button onClick={() => clickHandler(id)}>Remove</button>\n      </td>\n    </tr>\n  )\n}\n\nconst PhoneNumbers = ({ phonenumbers, clickHandler }) => {\n  return (\n    <table>\n      <tbody>\n        {phonenumbers.map((person) => (\n          <PhoneNumber\n            name={person.name}\n            number={person.number}\n            id={person.id}\n            key={person.name}\n            clickHandler={clickHandler}\n          />\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationName, setNotificationName] = useState('')\n  const [notification, setNotification] = useState('')\n  const [notificationType, setNotificationType] = useState('')\n\n  const notify = ({ name, message, type }) => {\n    setNotification(message)\n    setNotificationName(name)\n    setNotificationType(type)\n    setTimeout(() => {\n      setNotification(null)\n      setNotificationName(null)\n      setNotificationType(null)\n    }, 5000)\n  }\n\n  const isPresent = (name) => persons.find((person) => person.name === name)\n\n  const updateAll = () => {\n    numberService.getAll().then((numbers) => {\n      setPersons(numbers)\n    })\n  }\n\n  useEffect(() => {\n    updateAll()\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName.trim(),\n      number: newNumber.trim()\n    }\n\n    let presentPerson = isPresent(newName)\n\n    if (presentPerson) return updatePerson(presentPerson, personObject)\n\n    numberService\n      .add(personObject)\n      .then((numbers) => {\n        setPersons(persons.concat(numbers))\n        notify({\n          name: `Added a new number for ${newName}`,\n          type: `success`\n        })\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch((err) => {\n        notify({\n          name: `Failed to add info for ${newName}`,\n          message: err,\n          type: `error`\n        })\n        updateAll()\n      })\n  }\n\n  const updatePerson = (person, newObject) => {\n    numberService\n      .update(person.id, newObject)\n      .then((updated) => {\n        setPersons(persons.map((_person) => (_person.id === person.id ? updated : _person)))\n        notify({\n          message: `Updated number for ${person.name}`,\n          type: `success`\n        })\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch((err) => {\n        notify({\n          name: `Failed to update info for ${person.name}`,\n          message: err,\n          type: `error`\n        })\n        updateAll()\n      })\n  }\n\n  const deletePerson = (id) => {\n    let person = persons.find((person) => person.id === id)\n    if (!window.confirm('Do you really want to remove the person from phonebook?')) return\n    numberService\n      .remove(id)\n      .then(() => {\n        notify({\n          message: `Removed ${person.name}'s number`,\n          type: `success`\n        })\n        updateAll()\n      })\n      .catch((err) => {\n        notify({\n          name: `Failed to delete data for ${person.name}`,\n          message: err,\n          type: `error`\n        })\n        updateAll()\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const peopleToShow = filter ? persons.filter((person) => person.name.toLowerCase().includes(filter)) : persons\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification name={notificationName} message={notification} type={notificationType} />\n      <Form\n        heading=\"Filter\"\n        inputs={[{ type: 'text', text: 'filter shown with', value: filter, handleChange: handleFilterChange }]}\n      />\n      <Form\n        heading=\"Add new\"\n        handleSubmit={addPerson}\n        submitText=\"add\"\n        inputs={[\n          { type: 'text', text: 'name:', value: newName, handleChange: handleNameChange },\n          { type: 'tel', text: 'number:', value: newNumber, handleChange: handleNumberChange }\n        ]}\n      />\n      <h2>Numbers</h2>\n      <PhoneNumbers phonenumbers={peopleToShow} clickHandler={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}